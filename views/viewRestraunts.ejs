<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= mytitle %></title>
    <link rel="stylesheet" href="viewRestraunts.css">
    <link rel="icon" href="https://cdn5.f-cdn.com/contestentries/70431/10651466/53406793a0826_thumb900.jpg" type="image/x-icon"/>
</head>
<body>
    <h1>Manage Data</h1>
    
    <label for="type">Type:</label>
    <select id="type" name="type" required>
        <option value="Restaurant">Restaurant</option>
        <option value="User">User</option>
    </select>

    <div id="restaurant-section" class="section">
        <div id="restaurantList" class="list"></div>

        <div class="container">
            <form id="addRestaurantForm">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
                
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                
                <label for="location">Location:</label>
                <input type="text" id="location" name="location" required>
                
                <label for="description">Description:</label>
                <textarea id="description" name="description" rows="4" required></textarea>
                
                <label for="category">Category:</label>
                <input type="text" id="category" name="category" required>
                
                <label for="phone">Phone:</label>
                <input type="tel" id="phone" name="phone" required>
                
                <label for="openingTime">Opening Time:</label>
                <input type="time" id="openingTime" name="openingTime" required>
                
                <label for="closingTime">Closing Time:</label>
                <input type="time" id="closingTime" name="closingTime" required>
                
                <label for="menuUrl">Menu URL:</label>
                <input type="url" id="menuUrl" name="menuUrl" required>
                
                <label for="locationUrl">Location URL:</label>
                <input type="url" id="locationUrl" name="locationUrl" required>
                
                <label for="logoUrl">Logo URL:</label>
                <input type="url" id="logoUrl" name="logoUrl" required>
                
                <label for="photoUrl">Photo URL:</label>
                <input type="url" id="photoUrl" name="photoUrl" required>
                
                <label for="status">Status:</label>
                <select id="status" name="status" required>
                    <option value="open">Open</option>
                    <option value="closed">Closed</option>
                </select>
                
                <button type="submit">Add Restaurant</button>
            </form>
            
            

        </div>

        <div id="request-list">
            <ul>
                <% arr.forEach(restaurantdata => { %>
                    <li>
                        <h2><%= restaurantdata.name %></h2>
                        <p>Email: <%= restaurantdata.email %></p>
                        <p>Location: <%= restaurantdata.location %></p>
                        <p>Description: <%= restaurantdata.description %></p>
                        <p>Category: <%= restaurantdata.category %></p>
                        <p>Phone: <%= restaurantdata.phone %></p>
                        <p>Opening Time: <%= restaurantdata.openingTime %></p>
                        <p>Closing Time: <%= restaurantdata.closingTime %></p>
                        <p>Menu: <%= restaurantdata.menuUrl %></p>
                        <p>Location: <%= restaurantdata.locationUrl %></p>
                        <p>Logo: <%= restaurantdata.logoUrl %></p>
                        <p>Photo: <%= restaurantdata.photoUrl %></p>
                        <p>Status: <%= restaurantdata.status %></p>
                        <p>
                            <form action="/restaurants/<%= restaurantdata._id %>/edit" method="GET" style="display: inline;">
                                <button type="submit">Edit</button>
                            </form>
                            <form action="/restaurants/<%= restaurantdata._id %>/delete" method="POST" style="display: inline;">
                                <button type="submit">Delete</button>
                            </form>
                        </p>
                    </li>
                <% }); %>
            </ul>
        </div>
    </div>
    

    <script>
        const restaurantData = <%= JSON.stringify(arr) %>;
        const customerData = <%= JSON.stringify(userArr) %>;

        document.getElementById('type').addEventListener('change', function() {
            const restaurantSection = document.getElementById('restaurant-section');
            const userSection = document.getElementById('user-section');
            
            if (this.value === 'Restaurant') {
                restaurantSection.classList.remove('hidden');
                userSection.classList.add('hidden');
            } else {
                restaurantSection.classList.add('hidden');
                userSection.classList.remove('hidden');
            }
        });
    </script>
    <script src="viewRestraunts.js"></script>
</body>
</html>
